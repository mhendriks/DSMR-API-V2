<!--
***************************************************************************  
**  Program  : DSMRindex_body.html, part of DSMRloggerAPI
**  Version  : v2.3.0
**
**  Copyright (c) 2021 Martijn Hendriks / based on DSMR Api Willem Aandewiel
**
**  TERMS OF USE: MIT License. See bottom of file.                                                            
***************************************************************************      
-->
<!-- <div class="dev-header"> -->
<div class="header">
  <nav>
  	<div id=messages class="mdi mdi-alert"></div>
   	<div class="nav-clock topcorner"><span id="theTime">2021-07-08 22:31:49</span></div>
    <ul class="main-navigation" id="myTopnav">
      <li><a id='Home'   		class='nav-img' href="#SysInfoTab" onclick="activeTab='bInfo_SysInfo';openTab()"><span class="mdi mdi-chart-box-outline"></span></a></li>
	  <li>
	  	<a id='bSysInfoTab' class='nav-img nav-item' href="#SysInfoTab" ><span class="mdi mdi-information-outline"></span></a>
		<ul>
			<li><a id='bInfo_SysInfo'   class='tabButton nav-item' href="#SysInfoTab" >Systeeminformatie</a></li>
			<li><a id='bInfo_Fields'    class='tabButton nav-item' href="#FieldsTab" >Alle Velden</a></li>
			<li><a id='bInfo_APIdoc'    class='tabButton nav-item' href="#APIdocTab" >API Docs</a></li>
		</ul></li>
      <li><a id='bFSexplorer'    class='nav-img nav-item' href="#FileExplorer" ><span class="mdi mdi-folder-outline"></span></a></li>
      <li><a id='bSettings'      class='nav-img nav-item' href="#Settings" ><span class="mdi mdi-cog"></span></a>
		<ul>
			<li><a id='bEditSettings' class='tabButton nav-item' href="#Settings" >Settings</a></li>
			<li><a id='bReset'   	  class='tabButton nav-item' href="#Reset" >Reset & Update</a></li>
		</ul></li>
	  <li><a href="javascript:void(0);" class="icon" onclick="menu()"><i id="menuid" class="mdi mdi-menu"></i></a></li>
   </ul>
   </nav> <!-- end nav-main -->  
</div> <!-- end header -->    

<div id="mainPage" style="display:block">
  <!-- START TelegramTab -->
  <section id="TelegramTab" class="tabName subTab">
    <h2>Ruwe Telegram data</h2>
    <div id="rawTelegram">
    </div>
    
  </section> <!-- END TelegramTab -->

  <!-- START Fields Tab -->
  <section id="FieldsTab" class="tabName subTab">
    <!-- START fieldsTab Dummy -->
    <h2>Alle Velden</h2>
    <div id='fields'>
      <table id="fieldsTable">
      <thead>
        <tr>
            <th>DSMR Name</th>
            <th>Human Name</th>
            <th>Value</th>
            <th>Unit</th>
        </tr>
      </thead>
      <tbody>
      </tbody>
      <tfoot>
        <tr>
            <td colspan=4>Data uit de Slimme Meter</td>
        </tr>
      <tfoot>
      </table>
    </div>
  
  </section>  <!-- END fields Tab -->
  <!-- START Api Docs Tab -->
  <section id="APIdocTab" class="tabName subTab">
    <!-- START APIdocTab Dummy -->
    <h2>API documentatie</h2>
    <table id=ApiDocTable>
  <tr>
    <th>url</th>
    <th>omchrijving</th>
  </tr>
  <tr>
    <td><a href="api/v2/dev/info" target="_blank">api/v2/dev/info</a></td>
    <td>Device info in JSON format</td>
  </tr>
  <tr>
    <td><a href="api/v2/dev/time" target="_blank">api/v2/dev/time</a></td>
    <td>Device time (epoch) in JSON format</td>
  </tr>
  <tr>
    <td><a href="api/v2/dev/settings" target="_blank">api/v2/dev/settings</a></td>
    <td>Device settings in JSON format</td>
  </tr>
  <tr>
    <td><a href="api/v2/dev/settings" target="_blank">api/v2/dev/settings{jsonObj}</a></td>
    <td>[POST] update Device settings in JSON format. </br>Test with:
        curl -X POST -H \"Content-Type: application/json\" --data '{\"name\":\"mqtt_broker\",\"value\":\"hassio.local\"}'</td>
  </tr> 
  <tr>
    <td><a href="/Frontend.json" target="_blank">/Frontend.json</a></td>
    <td>Downloaden van een bestand. In dit geval Frontend.json</td>
  </tr>
  <tr>
    <td>History data file structure (month, day, hour)</td>
	<td>{"actSlot":&lt;actual slot#&gt;,"data":[{"date":&lt;YYMMDDHH&gt;,"values":[&lt;EDT1&gt;,&lt;EDT2&gt;,&lt;ERT1&gt;,&lt;ERT2&gt;,&lt;GDT&gt;]}, ...]}</td>
  </tr>  
  
</table>
  </section>  <!-- END API docs Tab -->
    
  <section id="Settings" class="tabName">
      <!-- START Tabbladen -->
  <h2>Instellingen</h2>
  <div id="tabEditMonths" class="tabName">
    <label for="Period"><b>Meterstand: </b></label>
      Energy Delivered
      <input type="radio" name="editType" id="MED" onchange="setEditType('ED')" checked/>
      Energy Returned
      <input type="radio" name="editType" id="MER" onchange="setEditType('ER')"/>
      Gas Delivered
      <input type="radio" name="editType" id="MGD" onchange="setEditType('GD')"/>  
	  <div id="tabMaanden" class="outer-div">
		<!-- START edit tabMonths -->
		  <div id="editMonths" class="inner-div"></div> 
	  </div>  <!-- END tabMonthss -->
  </div> <!-- tabMonths -->
  <div id="tabEditSettings" class="outer-div"">
    <!-- START settingsTab Settings -->
      <div id="settings_table" class="inner-div"></div>          
  </div>  <!-- END tabSettings -->
  <div id="settings_btns">
      <a id='bUndo'   class='btn' onclick="undoReload()">Undo</a>
      <a id='bSave'   class='btn' onclick="saveData()">Opslaan</a>
      </div>
  </section> <!-- end Settings Page -->
  
  <!-- START FileExplorer Tab -->
  <section id="FileExplorer" class="tabName"><h2>Bestandsbeheer</h2>
      <div>
         <main id="FSmain"></main>
      </div>
		<form action="/upload" method="POST" enctype="multipart/form-data">
		  <input id="Ifile" type="file" name="upload">
          <input id="Iupload" type="submit" value="Upload" disabled />
      </form>

      <span></span>
      <fileSize></fileSize>
  </section>
  
<section id="Reset" class="tabName">
      <!-- START Tabbladen -->
  <h2>Reset en Update</h2>
      <hr>
            <div id="btnReboot" class="act_btn">
      	<p>Na het indrukken van de REBOOT knop zal de Dongel opnieuw opstarten.</p>
        <span>
        <form  action='/ReBoot'>
          <input type='submit' class='button' name='SUBMIT' value='Reboot'>
        </form>
      </div> 
      <hr>
      <div id="btnFirmware" class="act_btn">
		<p>Na het indrukken van de UPDATE FIRMWARE knop zal het updatescherm worden getoond. Hiermee kan een firmware of data update worden uitgevoerd.</p>
        <span>
        <form  action='/update' method='GET'>
          <input id="update" type='submit' class='button' name='SUBMIT' value='Update Firmware...' hidden/>
        </form>
        </span>
      </div>
            <hr>
      <div id="btnResetWifi" class="act_btn">
		<p>Na het indrukken van de RESET WIFI knop zal de module herstarten en vragen om het wifi-netwerk opnieuw in te stellen. Zie initiÃ«le setup van de module.</p>
        <span>
        <form action='/ResetWifi' >
          <input id="resetWifi" type='submit' class='button' name='SUBMIT' value='Reset Wifi' hidden/>
        </form>
      </div> 
  </section> <!-- end Settings Page -->
  
  
	<section id="Redirect" class="tabName">
	<h2>Opnieuw opstarten</h2>
	<h3><div id="RedirectMessage"></div></h3>
	<div><b>Redirect over <span id='counter'>45</span> seconden.</b>
	<hr>Indien de pagina niet automatisch getoond wordt klik dan op <a href='/'>Home pagina</a></div>
    </section>  
   
  <!-- START SysInfo Tab -->
  <section id="SysInfoTab" class="tabName subTab default">
    <h2>Systeeminformatie</h2>
    <div id='devInfo'>
      <table id="devInfoTable">
      <thead>
        <tr>
            <th>Name</th>
            <th>Value</th>
            <th>Unit</th>
        </tr>
      </thead>
      <tbody id="tb_info">
      </tbody>
      <tfoot>
        <tr>
            <td colspan=3>Data uit de DSMR-logger</td>
        </tr>
      </tfoot>
      </table>
    </div>
  
  </section>  <!-- END SysInfo Tab -->
  
  <div hidden id="loader"></div>
  <!-- REST -->
  <div style="margin: 30px;">
    <canvas id="dataChart" style="display: none;" width="900" height="300"></canvas>
    <canvas id="gasChart"  style="display: none;" width="900" height="125"></canvas>
  </div>
<!-- Pin to bottom right corner -->
    <div class="bottom right-0"><span id="devVersion">[version]</span>  |  &copy; <a style="color:gray" target="_blank" href='http://smart-stuff.nl'>smart-stuff.nl</a></div>
    <!-- Pin to bottom left corner -->
    <div id="message" class="bottom left-0">-</div>    
</div> <!-- main page-->
<!--
***************************************************************************
*
* Permission is hereby granted, free of charge, to any person obtaining a
* copy of this software and associated documentation files (the
* "Software"), to deal in the Software without restriction, including
* without limitation the rights to use, copy, modify, merge, publish,
* distribute, sublicense, and/or sell copies of the Software, and to permit
* persons to whom the Software is furnished to do so, subject to the
* following conditions:
*
* The above copyright notice and this permission notice shall be included
* in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
* OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
* MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
* IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
* CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT
* OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR
* THE USE OR OTHER DEALINGS IN THE SOFTWARE.
* 
***************************************************************************
-->
